<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="BlockZone Lab Gaming Hub - Professional skill-based tournaments with USDC prizes. Compete in Neon Drop and other games with 90% fee sharing on Sonic Labs.">
    <meta name="keywords" content="blockchain gaming, skill-based tournaments, USDC prizes, Sonic Labs, competitive gaming, puzzle games">
    <meta name="author" content="BlockZone Lab">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="BlockZone Lab Gaming Hub - Professional Tournaments">
    <meta property="og:description" content="Compete for USDC prizes in professional skill-based tournaments. 90% fee sharing on Sonic Labs with 400K+ TPS performance.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://blockzonelab.com/games/">
    <meta property="og:image" content="https://blockzonelab.com/assets/favicon.svg">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BlockZone Lab Gaming Hub - Professional Tournaments">
    <meta name="twitter:description" content="Compete for USDC prizes in professional skill-based tournaments. 90% fee sharing on Sonic Labs with 400K+ TPS performance.">
    <meta name="twitter:image" content="https://blockzonelab.com/assets/favicon.svg">
    
    <title>Gaming Hub - Professional Tournaments | BlockZone Lab</title>
    
    <!-- CRITICAL: Mobile Detection First (Inline for Performance) -->
    <script>
        // Industry-standard mobile detection with keyboard detection (like Axie Infinity, Gods Unchained)
        window.BlockZoneMobile = {
            // Cached values for performance
            _isMobile: window.innerWidth <= 768 || /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
            _isTablet: window.innerWidth > 768 && window.innerWidth <= 1024 && 'ontouchstart' in window,
            _hasTouch: 'ontouchstart' in window || navigator.maxTouchPoints > 0,
            _isPWA: window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true,
            _hasPhysicalKeyboard: null, // Will be detected dynamically
            
            // Function API for compatibility
            isMobile() { return this._isMobile; },
            isTablet() { return this._isTablet; },
            hasTouch() { return this._hasTouch; },
            isPWA() { return this._isPWA; },
            hasPhysicalKeyboard() { 
                // Simple detection: assume keyboard on desktop OS or large screens
                return !/Android|iPhone|iPad|iPod/i.test(navigator.userAgent) || window.innerWidth > 1024;
            },
            needsMobileControls() {
                // Show mobile controls only on touch devices without keyboards
                return (this._isMobile || this._isTablet) && !this.hasPhysicalKeyboard();
            },
            getScreenSize() {
                const w = window.innerWidth;
                return w <= 480 ? 'small' : w <= 768 ? 'medium' : w <= 1024 ? 'large' : 'xlarge';
            }
        };
        
        // Set CSS custom properties immediately for layout
        document.documentElement.style.setProperty('--is-mobile', window.BlockZoneMobile._isMobile ? '1' : '0');
        document.documentElement.style.setProperty('--has-touch', window.BlockZoneMobile._hasTouch ? '1' : '0');
        document.documentElement.style.setProperty('--has-keyboard', window.BlockZoneMobile.hasPhysicalKeyboard() ? '1' : '0');
        document.documentElement.style.setProperty('--needs-mobile-controls', window.BlockZoneMobile.needsMobileControls() ? '1' : '0');
    </script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#d4af37">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Professional CSS Architecture -->
    <link rel="stylesheet" href="../assets/css/design-system.css">
    <link rel="stylesheet" href="../assets/css/utilities.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/blockzone-system.css">
    <link rel="stylesheet" href="../assets/css/mobile.css">
    <link rel="stylesheet" href="../assets/css/games-landing-fix.css">
    
    <!-- Favicon -->
    <link rel="icon" href="../assets/favicon.svg" type="image/svg+xml">
    
    <!-- Universal Navigation Bar -->
    <script type="module" src="../shared/components/NavigationBar.js"></script>
    
    <!-- User Management Integration -->
    <script type="module" src="../shared/platform/user-manager.js"></script>
    <script type="module" src="../shared/platform/session.js"></script>
</head>
<body class="portal-container">
    <!-- Professional Starfield Background -->
    <div class="starfield">
        <div class="stars"></div>
    </div>

    <!-- Professional Header -->
    <header class="portal-header">
        <nav class="portal-nav">
            <a href="../index.html" class="logo">
                <span>âœ§</span> BlockZone Lab
            </a>
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="../academy/">Academy</a>
                <a href="#" class="active">Games</a>
                <a href="../pages/tournaments.html">Tournaments</a>
            </div>
            <div class="user-status" id="userStatus">
                <span>Loading...</span>
            </div>
        </nav>
    </header>

    <!-- Professional Main Section -->
    <main class="hero">
        <div class="hero-badge">ğŸ® PROFESSIONAL GAMING HUB</div>
        <h1 class="hero-title">Real Money Gaming Tournaments</h1>
        <p class="hero-subtitle">
            Professional skill-based competitions with transparent 90/10 fee structure
        </p>

        <!-- Professional Centered Cards - Fully Clickable -->
        <div class="grid grid-2">
            <a href="../onboarding.html" class="card card--hover card--glow">
                <div class="card__header">
                    <div class="card__title">âš¡ NeonDrop Tournament</div>
                    <div class="card__subtitle">Daily Skill Competition</div>
                    <div class="tournament-status">
                        <span class="status-badge status-active">ğŸŸ¢ Active</span>
                        <span class="players-online">ğŸ‘¥ 127 Players Online</span>
                    </div>
                </div>
                
                <div class="card__content">
                    <p>Fast-paced arcade action with real USDC prizes. Entry $2.50, 90% prize pool to winners. Daily tournaments with $200+ rewards.</p>
                    <div class="card__stats">
                        <span>ğŸ† Daily Prizes: $200+</span>
                        <span>âš¡ Entry Fee: $2.50</span>
                        <span>ğŸ’ 90% to Winners</span>
                    </div>
                </div>
                
                <div class="card__footer">
                    <span class="btn btn--primary">Play Now</span>
                </div>
            </a>

            <a href="#coming-soon" class="card card--hover card--neon">
                <div class="card__header">
                    <div class="card__title">ğŸ¯ Strategy Arena</div>
                    <div class="card__subtitle">Coming Soon</div>
                    <div class="tournament-status">
                        <span class="status-badge status-coming">ğŸŸ¡ Coming Soon</span>
                        <span class="release-date">ğŸ“… Q2 2025</span>
                    </div>
                </div>
                
                <div class="card__content">
                    <p>Advanced strategy games with larger prize pools. Multi-round tournaments and team competitions.</p>
                    <div class="card__stats">
                        <span>ğŸ”® Strategic Gameplay</span>
                        <span>ğŸ‘¥ Team Competitions</span>
                        <span>ğŸ’° Larger Prizes</span>
                    </div>
                </div>
                
                <div class="card__footer">
                    <span class="btn btn--outline">Notify Me</span>
                </div>
            </a>
        </div>

        <!-- Live Stats Section -->
        <section id="liveStats" class="live-stats-section" style="display: none;">
            <div class="container">
                <h2>ğŸ“Š Live Tournament Stats</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalPlayers">0</div>
                            <div class="stat-label">Active Players</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ’°</div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalPrizePool">$0</div>
                            <div class="stat-label">Total Prize Pool</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ†</div>
                        <div class="stat-content">
                            <div class="stat-value" id="avgPrize">$0</div>
                            <div class="stat-label">Avg Prize</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Daily Addiction Dashboard -->
        <section id="addictionDashboard" class="addiction-section" style="display: none;">
            <!-- Content will be dynamically inserted by JavaScript -->
        </section>

        <!-- Game Features Section -->
        <section class="features-grid">
            <h2 class="section-title">Professional Gaming Features</h2>
            
            <div class="grid grid-3">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”’</div>
                    <h3>Provably Fair</h3>
                    <p>All games use blockchain verification for transparent, tamper-proof results.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h3>Instant Payouts</h3>
                    <p>Winners receive USDC prizes immediately via smart contract automation.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">ğŸ†</div>
                    <h3>Low House Edge</h3>
                    <p>Industry-leading 90/10 split ensures maximum rewards for skilled players.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Tournament Rules Section -->
    <section class="tournament-rules">
        <div class="rules-content">
            <h2 class="rules-title">Tournament Structure</h2>
            <div class="rules-grid">
                <div class="rule-item">
                    <strong>Entry Fee:</strong> $2.50 USDC per tournament
                </div>
                <div class="rule-item">
                    <strong>Prize Distribution:</strong> 90% to winners, 10% platform fee
                </div>
                <div class="rule-item">
                    <strong>Payment:</strong> Instant USDC via smart contract
                </div>
                <div class="rule-item">
                    <strong>Schedule:</strong> Daily tournaments, new rounds every 24 hours
                </div>
            </div>
        </div>
    </section>

    <!-- User Management Integration Script -->
    <script type="module">
        import { sessionManager } from "../shared/platform/session.js";
        import { DailyAddictionSystem } from '../shared/platform/daily-addiction-system.js';
        
        // Initialize systems
        const dailyAddiction = new DailyAddictionSystem();
        
        // Update user status
        const updateUserStatus = async () => {
            const userStatus = document.getElementById('userStatus');
            
            try {
                await sessionManager.init();
                const playerName = sessionManager.getPlayerName();
                const playerId = sessionManager.getPlayerId();
                
                if (playerId && playerName !== 'Anonymous') {
                    userStatus.innerHTML = `
                        <span class="user-avatar">ğŸ‘¤</span>
                        <span class="user-name">${playerName}</span>
                    `;
                    
                    // Show live stats for logged-in users
                    document.getElementById('liveStats').style.display = 'block';
                    updateLiveStats();
                    
                    // Show addiction dashboard
                    showAddictionDashboard();
                } else {
                    userStatus.innerHTML = '<a href="../pages/user-profile.html" class="btn btn--primary">Connect Wallet</a>';
                    
                    // Show profile requirement message
                    showProfileRequirement();
                }
            } catch (error) {
                console.error('Failed to update user status:', error);
                userStatus.innerHTML = '<a href="../pages/user-profile.html" class="btn btn--primary">Connect Wallet</a>';
                showProfileRequirement();
            }
        };
        
        // Update live tournament statistics
        const updateLiveStats = () => {
            // Simulate live data updates
            const stats = {
                totalPrizes: Math.floor(Math.random() * 2000) + 500,
                activePlayers: Math.floor(Math.random() * 2000) + 500,
                tournamentsCompleted: Math.floor(Math.random() * 100) + 20,
                avgPrize: (Math.random() * 50 + 10).toFixed(2)
            };
            
            document.getElementById('totalPlayers').textContent = stats.activePlayers.toLocaleString();
            document.getElementById('totalPrizePool').textContent = `$${stats.totalPrizes}`;
            document.getElementById('avgPrize').textContent = `$${stats.avgPrize}`;
        };
        
        // Show addiction dashboard for logged-in users
        const showAddictionDashboard = () => {
            const addictionContainer = document.getElementById('addictionDashboard');
            if (addictionContainer) {
                addictionContainer.innerHTML = dailyAddiction.createAddictionUI();
                addictionContainer.style.display = 'block';
            }
        };
        
        // Show profile requirement for non-logged-in users
        const showProfileRequirement = () => {
            const addictionContainer = document.getElementById('addictionDashboard');
            if (addictionContainer) {
                addictionContainer.innerHTML = `
                    <div class="addiction-dashboard">
                        <div class="addiction-header">
                            <h3>ğŸ® Daily Gaming</h3>
                            <p>Create a profile to unlock free daily games!</p>
                        </div>
                        
                        <div class="profile-requirement-card">
                            <div class="requirement-icon">ğŸ”</div>
                            <div class="requirement-content">
                                <h4>Profile Required</h4>
                                <p>To play free daily games and earn rewards, you need to create a profile with a crypto wallet.</p>
                                <ul class="requirement-benefits">
                                    <li>ğŸ® Play 1 free game per day</li>
                                    <li>ğŸ”¥ Build daily streaks</li>
                                    <li>ğŸ’° Earn crypto rewards</li>
                                    <li>ğŸ† Compete on leaderboards</li>
                                </ul>
                                <a href="../pages/user-profile.html" class="btn btn-primary btn-large">
                                    ğŸš€ Create Profile & Wallet
                                </a>
                            </div>
                        </div>
                    </div>
                `;
                addictionContainer.style.display = 'block';
            }
        };
        
        // Initialize on load
        updateUserStatus();
        
        // Update stats every 30 seconds
        setInterval(updateLiveStats, 30000);
    </script>

    <!-- PWA Installation & Mobile Framework (mobile detection already inline) -->
    <script src="../pwa/install-prompt.js"></script>
    <script src="../shared/responsive/mobile-game-framework.js"></script>
</body>
</html>
